
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Reading from an Sensor</title><meta name="generator" content="MATLAB 7.13"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2011-08-10"><meta name="DC.source" content="readSensor.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><h1>Reading from an Sensor</h1><!--introduction--><p>This example shows how to collect data from a Vernier sensor connected to the SensorDAQ using the Support Package.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Create a Data Acqusition Toolbox session</a></li><li><a href="#2">Add sensor to the session</a></li><li><a href="#3">Retrieve a scaling function</a></li><li><a href="#4">Get one sample of data and display it</a></li><li><a href="#7">Clean up</a></li></ul></div><h2>Create a Data Acqusition Toolbox session<a name="1"></a></h2><p>This line will always be the same for any Support Package function that uses the Session-based interface (all but digital io).</p><pre class="codeinput">s = sdaq.createSession;
</pre><h2>Add sensor to the session<a name="2"></a></h2><p>This line adds a thermocouple sensor attached to Ch.1 of the device to the session. If the sensor was connected to another channel, we could change the 1 to a 2 or 3 to reflect that. If the sensor were another type of sensor, we could change the specified sensor type to reflect that. For more information on sensor types, see README.pdf or type "help sdaq.Sensors" in the Command Window.</p><pre class="codeinput">sdaq.addSensor(s,1,sdaq.Sensors.Thermocouple);
</pre><h2>Retrieve a scaling function<a name="3"></a></h2><p>When we read data from the session, it will be unscaled voltage data. To scale this voltage data into sensor data (ie. temperature in this case), we need a special scaling function. This line creates this scaling function and gives it the name "scale".</p><pre class="codeinput">scale = sdaq.getScaleFun(sdaq.Sensors.Thermocouple);
</pre><h2>Get one sample of data and display it<a name="4"></a></h2><p>The first line retrieves one sample of voltage data from the device and stores it in data. The second line scales the voltage date to sensor data. The third line tells MATLAB to display the result, which is in degrees Celsius.</p><pre class="codeinput">data = s.inputSingleScan;
data = scale(data);
data <span class="comment">%#ok&lt;NOPTS&gt;</span>
</pre><pre class="codeoutput">
data =

   20.8652

</pre><p>Note that we could have combined the first two lines into:</p><pre class="codeinput">data = scale(s.inputSingleScan);
</pre><p>They were seperated out here for clarity.</p><h2>Clean up<a name="7"></a></h2><p>Deleting the session object prevents it from interfering with other session objects. Always do this when you're done with the channel (including from within a script or function). This will prevent odd errors elsewhere.</p><pre class="codeinput">delete(s);
</pre><p>Note that if you're planning on acquiring multiple samples in one session, you don't have to delete the session until you're done. In fact, it's much faster to not have to create a new session every time you want data.</p><pre> MATLAB Support Package for Vernier SensorDAQ
 Version 1.0</pre><p class="footer">Copyright 2011 The MathWorks, Inc.<br>
      Published with MATLAB&reg; 7.13<br></p></div><!--
##### SOURCE BEGIN #####
%% Reading from an Sensor
% This example shows how to collect data from a Vernier sensor connected to
% the SensorDAQ using the Support Package.

%% Create a Data Acqusition Toolbox session
% This line will always be the same for any Support Package function that
% uses the Session-based interface (all but digital io).
s = sdaq.createSession;

%% Add sensor to the session
% This line adds a thermocouple sensor attached to Ch.1 of the device to
% the session. If the sensor was connected to another channel, we could
% change the 1 to a 2 or 3 to reflect that. If the sensor were another type
% of sensor, we could change the specified sensor type to reflect that. For
% more information on sensor types, see README.pdf or type "help
% sdaq.Sensors" in the Command Window.
sdaq.addSensor(s,1,sdaq.Sensors.Thermocouple);

%% Retrieve a scaling function
% When we read data from the session, it will be unscaled voltage data. To
% scale this voltage data into sensor data (ie. temperature in this case),
% we need a special scaling function. This line creates this scaling
% function and gives it the name "scale".
scale = sdaq.getScaleFun(sdaq.Sensors.Thermocouple);

%% Get one sample of data and display it
% The first line retrieves one sample of voltage data from the device and
% stores it in data. The second line scales the voltage date to sensor
% data. The third line tells MATLAB to display the result, which is in
% degrees Celsius.
data = s.inputSingleScan;
data = scale(data);
data %#ok<NOPTS>
%%
% Note that we could have combined the first two lines into:
data = scale(s.inputSingleScan);
%%
% They were seperated out here for clarity.

%% Clean up
% Deleting the session object prevents it from interfering with other
% session objects. Always do this when you're done with the channel
% (including from within a script or function). This will prevent odd
% errors elsewhere.
delete(s);
%%
% Note that if you're planning on acquiring multiple samples in one
% session, you don't have to delete the session until you're done. In fact,
% it's much faster to not have to create a new session every time you want
% data.
%
%
%
%   MATLAB Support Package for Vernier SensorDAQ
%   Version 1.0
%   Copyright 2011 The MathWorks, Inc.
##### SOURCE END #####
--></body></html>